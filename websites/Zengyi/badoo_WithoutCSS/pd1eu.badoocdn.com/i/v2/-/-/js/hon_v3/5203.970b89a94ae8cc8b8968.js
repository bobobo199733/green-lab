(self.webpackChunk_badoo_dw_badoo_site = self.webpackChunk_badoo_dw_badoo_site || []).push([
    [5203], {
        24552: function(t) {
            t.exports = [{
                type: "Tag",
                name: "div",
                attributes: [{
                    type: "Attribute",
                    name: "class",
                    value: [{
                        type: "AttributeTextValue",
                        value: "captcha "
                    }, {
                        type: "Iterator",
                        name: "_ERROR",
                        content: [{
                            type: "AttributeTextValue",
                            value: " has-error "
                        }]
                    }, {
                        type: "AttributeTextValue",
                        value: " js-error-wrap js-captcha-code"
                    }]
                }],
                content: [{
                    type: "Text",
                    value: "    "
                }, {
                    type: "Tag",
                    name: "img",
                    attributes: [{
                        type: "Attribute",
                        name: "class",
                        value: [{
                            type: "AttributeTextValue",
                            value: "captcha__image js-captcha-img"
                        }]
                    }, {
                        type: "Attribute",
                        name: "id",
                        value: [{
                            type: "AttributeTextValue",
                            value: "check_code_img"
                        }]
                    }, {
                        type: "Attribute",
                        name: "src",
                        value: [{
                            type: "AttributeContentVariable",
                            name: "check_code",
                            modifier: ""
                        }]
                    }, {
                        type: "AttributeIterator",
                        name: "_LAZY_LOADING",
                        content: [{
                            type: "Attribute",
                            name: "data-src",
                            value: [{
                                type: "AttributeContentVariable",
                                name: "check_code_data_src",
                                modifier: ""
                            }]
                        }]
                    }, {
                        type: "Attribute",
                        name: "width",
                        value: [{
                            type: "AttributeTextValue",
                            value: "125"
                        }]
                    }, {
                        type: "Attribute",
                        name: "height",
                        value: [{
                            type: "AttributeTextValue",
                            value: "32"
                        }]
                    }, {
                        type: "Attribute",
                        name: "alt",
                        value: []
                    }],
                    selfClosing: !0
                }, {
                    type: "Text",
                    value: "    "
                }, {
                    type: "Tag",
                    name: "div",
                    attributes: [{
                        type: "Attribute",
                        name: "class",
                        value: [{
                            type: "AttributeTextValue",
                            value: "captcha__field"
                        }]
                    }],
                    content: [{
                        type: "Text",
                        value: "        "
                    }, {
                        type: "Tag",
                        name: "div",
                        attributes: [{
                            type: "Attribute",
                            name: "class",
                            value: [{
                                type: "AttributeTextValue",
                                value: "text-field"
                            }]
                        }],
                        content: [{
                            type: "Text",
                            value: "            "
                        }, {
                            type: "Tag",
                            name: "input",
                            attributes: [{
                                type: "Attribute",
                                name: "class",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "text-field__input js-captcha-input"
                                }]
                            }, {
                                type: "Attribute",
                                name: "type",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "text"
                                }]
                            }, {
                                type: "Attribute",
                                name: "name",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "checkcode"
                                }]
                            }, {
                                type: "Attribute",
                                name: "id",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "checkcode"
                                }]
                            }, {
                                type: "Attribute",
                                name: "placeholder",
                                value: [{
                                    type: "AttributeLexeme",
                                    id: "30021598"
                                }]
                            }, {
                                type: "Attribute",
                                name: "value",
                                value: [{
                                    type: "AttributeContentVariable",
                                    name: "checkcode",
                                    modifier: ""
                                }]
                            }, {
                                type: "Attribute",
                                name: "tabindex",
                                value: [{
                                    type: "AttributeContentVariable",
                                    name: "tabindex",
                                    modifier: ""
                                }]
                            }, {
                                type: "Attribute",
                                name: "autocomplete",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "off"
                                }]
                            }, {
                                type: "AttributeIterator",
                                name: "_DISABLED",
                                content: [{
                                    type: "Attribute",
                                    name: "disabled"
                                }]
                            }, {
                                type: "AttributeIterator",
                                name: "_AUTOFOCUS",
                                content: [{
                                    type: "Attribute",
                                    name: "autofocus"
                                }]
                            }, {
                                type: "Attribute",
                                name: "dir",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "auto"
                                }]
                            }],
                            selfClosing: !0
                        }, {
                            type: "Text",
                            value: "        "
                        }]
                    }, {
                        type: "Text",
                        value: "    "
                    }]
                }, {
                    type: "Text",
                    value: "    "
                }, {
                    type: "Iterator",
                    name: "_CODE_ERROR",
                    content: [{
                        type: "Text",
                        value: "    "
                    }, {
                        type: "Tag",
                        name: "div",
                        attributes: [{
                            type: "Attribute",
                            name: "class",
                            value: [{
                                type: "AttributeTextValue",
                                value: "new-form__error js-input-error"
                            }]
                        }, {
                            type: "Attribute",
                            name: "id",
                            value: [{
                                type: "AttributeTextValue",
                                value: "captchaCheckLabel"
                            }]
                        }],
                        content: [{
                            type: "Variable",
                            name: "error",
                            modifier: ""
                        }]
                    }, {
                        type: "Text",
                        value: "    "
                    }]
                }, {
                    type: "Text",
                    value: "    "
                }, {
                    type: "Tag",
                    name: "div",
                    attributes: [{
                        type: "Attribute",
                        name: "class",
                        value: [{
                            type: "AttributeTextValue",
                            value: "new-form__hint"
                        }]
                    }],
                    content: [{
                        type: "Text",
                        value: "        "
                    }, {
                        type: "Tag",
                        name: "div",
                        attributes: [{
                            type: "Attribute",
                            name: "class",
                            value: [{
                                type: "AttributeTextValue",
                                value: "react-link react-link--local js-reset-captcha"
                            }]
                        }],
                        content: [{
                            type: "Text",
                            value: "            "
                        }, {
                            type: "Tag",
                            name: "div",
                            attributes: [{
                                type: "Attribute",
                                name: "class",
                                value: [{
                                    type: "AttributeTextValue",
                                    value: "react-link__inner"
                                }]
                            }],
                            content: [{
                                type: "Text",
                                value: "                "
                            }, {
                                type: "Tag",
                                name: "div",
                                attributes: [{
                                    type: "Attribute",
                                    name: "class",
                                    value: [{
                                        type: "AttributeTextValue",
                                        value: "react-link__icon"
                                    }]
                                }],
                                content: [{
                                    type: "Text",
                                    value: "                    "
                                }, {
                                    type: "Tag",
                                    name: "i",
                                    attributes: [{
                                        type: "Attribute",
                                        name: "class",
                                        value: [{
                                            type: "AttributeTextValue",
                                            value: "icon"
                                        }]
                                    }],
                                    content: [{
                                        type: "Text",
                                        value: "                        "
                                    }, {
                                        type: "SvgDocumentTag",
                                        attributes: [{
                                            type: "Attribute",
                                            name: "class",
                                            value: [{
                                                type: "AttributeTextValue",
                                                value: "icon-svg"
                                            }]
                                        }],
                                        content: [{
                                            type: "SvgElementTag",
                                            name: "use",
                                            attributes: [{
                                                type: "Attribute",
                                                name: "xlink:href",
                                                value: [{
                                                    type: "AttributeTextValue",
                                                    value: "#generic-spinning-arrows"
                                                }]
                                            }],
                                            content: []
                                        }]
                                    }, {
                                        type: "Text",
                                        value: "                    "
                                    }]
                                }, {
                                    type: "Text",
                                    value: "                "
                                }]
                            }, {
                                type: "Text",
                                value: "                "
                            }, {
                                type: "Tag",
                                name: "div",
                                attributes: [{
                                    type: "Attribute",
                                    name: "class",
                                    value: [{
                                        type: "AttributeTextValue",
                                        value: "react-link__text"
                                    }]
                                }],
                                content: [{
                                    type: "Text",
                                    value: "                    "
                                }, {
                                    type: "Tag",
                                    name: "span",
                                    attributes: [{
                                        type: "Attribute",
                                        name: "class",
                                        value: [{
                                            type: "AttributeTextValue",
                                            value: "react-link__text-inner"
                                        }]
                                    }],
                                    content: [{
                                        type: "Lexeme",
                                        id: "30021599"
                                    }]
                                }, {
                                    type: "Text",
                                    value: "                "
                                }]
                            }, {
                                type: "Text",
                                value: "            "
                            }]
                        }, {
                            type: "Text",
                            value: "        "
                        }]
                    }, {
                        type: "Text",
                        value: "    "
                    }]
                }, {
                    type: "Text",
                    value: ""
                }]
            }, {
                type: "Text",
                value: ""
            }]
        },
        55203: function(t, e, a) {
            a.d(e, {
                Z: function() {
                    return V
                }
            });
            var i = a(79136),
                n = a(11648),
                r = a(74127),
                s = a(22778),
                u = a(51973),
                c = {
                    CHAT: 1,
                    SIGN_IN: 2,
                    SIGN_UP: 9,
                    RESET_PASSWORD: 3,
                    FEEDBACK: 4,
                    CHANGE_EMAIL: 5,
                    CHANGE_PASSWORD: 6,
                    PROFILE_VIEW: 7,
                    ACCOUNT_DELETE: 11
                },
                o = a(42449),
                l = $class(o.Z, {
                    _answer: null,
                    setAnswer: function(t) {
                        return this._answer = t, this
                    },
                    getAnswer: function() {
                        return this._answer
                    }
                }),
                h = $class(r.Z, {
                    View: null,
                    ViewController: null,
                    captcha: null,
                    emptyCaptchaTry: !1,
                    invalidCaptchaTry: !1,
                    uid: null,
                    viewController: null,
                    model: null,
                    constructor: function() {
                        $super(this, arguments), this.model = new l
                    },
                    destroy: function() {
                        this.uid = null, this.captcha = null, this.invalidCaptchaTry = null, this.emptyCaptchaTry = null, this.abortLoading(), this.viewController && (this.viewController.destroy(), this.viewController = null), this.model && (this.model.destroy(), this.model = null), $super(this, arguments)
                    },
                    init: function() {
                        this.loadCaptcha()
                    },
                    getView: function() {
                        return new this.View
                    },
                    renderComplete: function(t) {
                        this.viewController && this.viewController.destroy(), this.viewController = new this.ViewController(t), this.viewController.on({
                            "on-update-captcha": this.loadCaptcha,
                            "on-click-captcha": this.onClickCaptcha,
                            "on-image-error": this._onImageError,
                            "captcha:start": this._onCaptchaStart,
                            "captcha:finish": this._onCaptchaFinish,
                            "captcha:input": this._onCaptchaInput
                        }, this)
                    },
                    setUID: function(t) {
                        return this.uid = c[t] ? s.ZP.tpl("captcha_{uid}", {
                            uid: c[t]
                        }) : t, this
                    },
                    updateCaptcha: function(t) {
                        this.captcha = t, this.fire("on-update")
                    },
                    loadCaptcha: function() {},
                    abortLoading: function() {},
                    checkCaptcha: function(t) {},
                    focus: function() {},
                    getAnswer: function() {
                        return this.model.getAnswer()
                    },
                    _onCheckCaptcha: function(t, e) {
                        t ? this.fire("on-error", t) : e.getSuccess() ? this.fire("on-success") : (this.invalidCaptchaTry = !0, this.updateCaptcha(e.getCaptcha()), this.fire("on-fail"))
                    },
                    _onEmptyCaptcha: function() {
                        this.emptyCaptchaTry = !0, this.fire("on-update")
                    },
                    _onImageError: function() {
                        u.ZP.error_log(u.ZP.newError("Debug", "Captcha image load error"), {
                            origin: "Captcha.Controller"
                        })
                    },
                    _onCaptchaInput: function(t) {
                        this.model.setAnswer(t)
                    }
                }),
                p = h,
                d = a(24552),
                m = a.n(d),
                y = a(57053),
                v = a(79091),
                C = $class(y.Z, {
                    template: m(),
                    setCheckCode: function(t) {
                        return this.set("check_code", t)
                    },
                    setInvalidCodeError: function() {
                        return this.set({
                            _ERROR: !0,
                            _CODE_ERROR: {
                                error: v.default.get("settings.checkcode_incorrect")
                            }
                        })
                    },
                    setEmptyCodeError: function() {
                        return this.set({
                            _ERROR: !0,
                            _CODE_ERROR: {
                                error: v.default.get("settings.checkcode_empty")
                            }
                        })
                    },
                    setError: function() {
                        return this.set("_ERROR", !0)
                    }
                }),
                f = a(48820),
                g = a(38844),
                _ = a(99480),
                T = $class(f.Z, {
                    constructor: function() {
                        $super(this, arguments), this.__events = g.Z.on(".js-reset-captcha", this._onUpdate, this), g.Z.add(this.getElement(".js-captcha-img"), "error", this._onImgError, this), g.Z.add(this._getCaptchaInput(), "focus", this._onCaptchaFocus, this), g.Z.add(this._getCaptchaInput(), "blur", this._onCaptchaBlur, this), _.ZP.del(this.getElement(".js-reset-captcha"), "reset_check")
                    },
                    destroy: function() {
                        g.Z.un(this.__events), g.Z.del(this._getCaptchaInput(), "focus", this._onCaptchaFocus, this), g.Z.del(this._getCaptchaInput(), "blur", this._onCaptchaBlur, this), g.Z.del(this.getElement(".js-captcha-img"), "error", this._onImgError, this), $super(this, arguments)
                    },
                    getEvents: function() {
                        return [".js-captcha-input", "change", this._onCaptchaInputChanged]
                    },
                    _getCaptchaInput: function() {
                        return this.getElement(".js-captcha-input")
                    },
                    focus: function() {
                        this.getElement(".js-captcha-input").focus()
                    },
                    _onUpdate: function() {
                        _.ZP.del(this.getElement(".js-error-wrap "), "error"), this.fire("on-update-captcha"), this.fire("on-click-captcha")
                    },
                    _onImgError: function() {
                        this.fire("on-image-error")
                    },
                    _onCaptchaFocus: function() {
                        this.fire("captcha:start")
                    },
                    _onCaptchaBlur: function() {
                        this.fire("captcha:finish")
                    },
                    _onCaptchaInputChanged: function(t) {
                        this.fire("captcha:input", t.value)
                    }
                }),
                b = T,
                A = a(87002),
                E = a(66602),
                x = a(2015),
                w = $class(E.Z, {
                    _fieldName: null,
                    _formId: null,
                    _formName: null,
                    _activationPlace: null,
                    _eventType: null,
                    setFormId: function(t) {
                        return this._formId = t, this
                    },
                    setActivationPlace: function(t) {
                        return this._activationPlace = t, this
                    },
                    setEventType: function(t) {
                        return this._eventType = t, this
                    },
                    setFormName: function(t) {
                        return this._formName = t, this
                    },
                    setFieldName: function(t) {
                        return this._fieldName = t, this
                    },
                    getFieldName: function() {
                        return this._fieldName
                    },
                    getFormName: function() {
                        return this._formName
                    },
                    getFormId: function() {
                        return this._formId
                    },
                    getActivationPlace: function() {
                        return this._activationPlace
                    },
                    getEventType: function() {
                        return this._eventType
                    },
                    sendCaptchaClickStat: function() {
                        this.sendClick(389)
                    },
                    startCaptchaFilling: function() {
                        this.sendFillForm(43, 1, 8)
                    },
                    finishCaptchaFilling: function() {
                        this.sendFillForm(43, 1, 9)
                    },
                    sendFillForm: function(t, e, a) {
                        if (this.getFormName()) {
                            var i = (new A.ELr).setFormName(this.getFormName()).setUid(this.getFormId()).setFieldName(t).setFieldType(e).setActionType(a);
                            x.Z.sendRequest(140, (new A.n0E).setFillForm(i), this.getTrackingEvent())
                        }
                    },
                    sendCaptchaError: function(t) {
                        if (this.getEventType()) {
                            var e = (new A.k69).setFieldName(43).setErrorType(t).setEventType(this.getEventType());
                            x.Z.sendRequest(125, (new A.n0E).setError(e), this.getTrackingEvent())
                        }
                    },
                    sendCaptchaEvent: function(t) {
                        if (this.getFieldName() && this.getActivationPlace()) {
                            var e = (new A.sir).setActivationPlace(this.getActivationPlace()).setFieldName(this.getFieldName()).setIsCorrect(t);
                            x.Z.sendRequest(178, (new A.n0E).setEnterCaptcha(e), this.getTrackingEvent())
                        }
                    }
                }),
                k = a(18618),
                N = a(92334),
                F = a(91381),
                I = $class(p, {
                    View: C,
                    StatControllerType: w,
                    ViewController: b,
                    _activationPlace: null,
                    _screenName: null,
                    _formName: null,
                    _fieldName: null,
                    _eventType: null,
                    _hideErrorMessage: !1,
                    constructor: function(t) {
                        $super(this, arguments), F.Z.init(), this.setUID(t), this.loadCaptcha()
                    },
                    destroy: function() {
                        this.uid = null, this.captcha = null, this.invalidCaptchaTry = null, this.emptyCaptchaTry = null, this.abortLoading(), this.viewController && (this.viewController.destroy(), this.viewController = null), F.Z.destroy(), $super(this, arguments)
                    },
                    setActivationPlace: function(t) {
                        return this._activationPlace = t, this
                    },
                    setScreenName: function(t) {
                        return this._screenName = t, this
                    },
                    setEventType: function(t) {
                        return this._eventType = t, this
                    },
                    setFormName: function(t) {
                        return this._formName = t, this
                    },
                    setFieldName: function(t) {
                        return this._fieldName = t, this
                    },
                    setHideErrorMessage: function(t) {
                        return this._hideErrorMessage = t, this
                    },
                    getActivationPlace: function() {
                        return this._activationPlace
                    },
                    getScreenName: function() {
                        return this._screenName
                    },
                    getEventType: function() {
                        return this._eventType
                    },
                    getFormName: function() {
                        return this._formName
                    },
                    getFieldName: function() {
                        return this._fieldName
                    },
                    loadCaptcha: function() {
                        this.invalidCaptchaTry = null, this.emptyCaptchaTry = null, this.model.setAnswer(null);
                        var t = (N.Z.getClientSource() || [0])[0],
                            e = (new n.MNV).setUid(this.uid).setForceNew(!0).setContext(t);
                        this.abortLoading(), this.getCaptchaRequest = new i.Z(340, e).on(341, this._onLoadCaptcha, this).request()
                    },
                    onClickCaptcha: function() {
                        this.sendCaptchaClickStat()
                    },
                    sendCaptchaClickStat: function() {
                        this.getStatController().sendCaptchaClickStat()
                    },
                    renderComplete: function() {
                        $super(this, arguments), this.getStatController().setActivationPlace(this.getActivationPlace()).setScreenName(this.getScreenName()).setEventType(this.getEventType()).setFormName(this.getFormName()).setFieldName(this.getFieldName()).setFormId(k.Z.v4())
                    },
                    checkCaptcha: function(t) {
                        if (t) {
                            this.emptyCaptchaTry = !1, this.model.setAnswer(null);
                            var e = (new n.ncp).setUid(this.uid).setImageId(this.captcha.getImageId()).setAnswer(t).setStatsData(F.Z.get());
                            this.abortLoading(), this.checkCaptchaRequest = new i.Z(342, e).on(343, this._onCheckCaptcha, this).request()
                        } else this._onEmptyCaptcha()
                    },
                    isLoading: function() {
                        return this.checkCaptchaRequest || this.getCaptchaRequest
                    },
                    abortLoading: function() {
                        this.checkCaptchaRequest && (this.checkCaptchaRequest.destroy(), this.checkCaptchaRequest = null), this.getCaptchaRequest && (this.getCaptchaRequest.destroy(), this.getCaptchaRequest = null)
                    },
                    focus: function() {
                        this.viewController.focus()
                    },
                    _onEmptyCaptcha: function() {
                        this.emptyCaptchaTry = !0, this.getStatController().sendCaptchaError(23), this.fire("on-update")
                    },
                    _onLoadCaptcha: function(t, e) {
                        this.getCaptchaRequest = null, t ? this.fire("on-error", t) : this.updateCaptcha(e.getCaptcha())
                    },
                    _onCheckCaptcha: function(t, e) {
                        this.checkCaptchaRequest = null, t ? this.fire("on-error", t) : (this.sendCaptchaEvent(e.getSuccess()), e.getSuccess() ? this.fire("on-success") : (this.invalidCaptchaTry = !0, this.updateCaptcha(e.getCaptcha()), this.getStatController().sendCaptchaError(28), this.fire("on-fail")))
                    },
                    sendCaptchaEvent: function(t) {
                        this.getStatController().sendCaptchaEvent(t)
                    },
                    updateCaptcha: function(t) {
                        this.captcha = t, this.fire("on-update")
                    },
                    getView: function() {
                        var t = new this.View;
                        return this.captcha && t.setCheckCode(this.captcha.getImageId()), this._hideErrorMessage && (this.emptyCaptchaTry || this.invalidCaptchaTry) ? t.setError() : this.emptyCaptchaTry ? t.setEmptyCodeError() : this.invalidCaptchaTry && t.setInvalidCodeError(), t
                    },
                    _onCaptchaStart: function() {
                        this.getStatController().startCaptchaFilling()
                    },
                    _onCaptchaFinish: function() {
                        this.getStatController().finishCaptchaFilling()
                    }
                }),
                V = I
        }
    }
]);